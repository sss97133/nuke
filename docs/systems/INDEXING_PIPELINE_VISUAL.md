# Indexing Pipeline Visual Guide

## ğŸ”„ Complete Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INGESTION LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  PDF Upload / URL                Service Manual Upload          â”‚
â”‚         â”‚                                â”‚                       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚              â”‚ library_documentsâ”‚                                 â”‚
â”‚              â”‚  (metadata)     â”‚                                 â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                      â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  EXTRACTION LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Edge Function: index-reference-document                  â”‚   â”‚
â”‚  â”‚  or index-service-manual                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                       â”‚
â”‚                           â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ Gemini  â”‚      â”‚ GPT-4o     â”‚     â”‚ Claude    â”‚           â”‚
â”‚    â”‚ File APIâ”‚      â”‚ Vision     â”‚     â”‚ Sonnet    â”‚           â”‚
â”‚    â”‚ (2M ctx)â”‚      â”‚            â”‚     â”‚           â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                            â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚  AI Extraction  â”‚                            â”‚
â”‚                    â”‚  - Structure    â”‚                            â”‚
â”‚                    â”‚  - Parts        â”‚                            â”‚
â”‚                    â”‚  - Procedures   â”‚                            â”‚
â”‚                    â”‚  - Products     â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                            â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STORAGE LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ catalog_parts    â”‚  â”‚ document_chunks   â”‚  â”‚ professional â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚  â”‚ _tools       â”‚ â”‚
â”‚  â”‚ â€¢ part_number    â”‚  â”‚ â€¢ document_type   â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ name           â”‚  â”‚ â€¢ content         â”‚  â”‚ â€¢ tool_name  â”‚ â”‚
â”‚  â”‚ â€¢ price          â”‚  â”‚ â€¢ page_number     â”‚  â”‚ â€¢ category   â”‚ â”‚
â”‚  â”‚ â€¢ application    â”‚  â”‚ â€¢ key_topics[]    â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ â€¢ embedding      â”‚  â”‚ â€¢ product_name    â”‚  â”‚              â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚ â€¢ mixing_ratio    â”‚  â”‚              â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚ â€¢ embedding       â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ catalog_pages    â”‚  â”‚ catalog_diagrams  â”‚                    â”‚
â”‚  â”‚                  â”‚  â”‚                   â”‚                    â”‚
â”‚  â”‚ â€¢ page_number    â”‚  â”‚ â€¢ name            â”‚                    â”‚
â”‚  â”‚ â€¢ image_url      â”‚  â”‚ â€¢ image_url       â”‚                    â”‚
â”‚  â”‚ â€¢ raw_text       â”‚  â”‚ â€¢ description     â”‚                    â”‚
â”‚  â”‚ â€¢ embedding      â”‚  â”‚                   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    QUERY LAYER                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  User uploads image                                                â”‚
â”‚         â”‚                                                          â”‚
â”‚         â–¼                                                          â”‚
â”‚  AI Vision identifies part                                         â”‚
â”‚         â”‚                                                          â”‚
â”‚         â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Query All Indexed Sources                                â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  1. Parts Catalog:                                        â”‚    â”‚
â”‚  â”‚     SELECT * FROM catalog_parts                            â”‚    â”‚
â”‚  â”‚     WHERE name ILIKE '%bumper%'                           â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  2. Service Manual:                                       â”‚    â”‚
â”‚  â”‚     SELECT content FROM document_chunks                    â”‚    â”‚
â”‚  â”‚     WHERE document_type = 'service_manual'                 â”‚    â”‚
â”‚  â”‚     AND content @@ 'bumper removal'                       â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  3. Material Catalog:                                     â”‚    â”‚
â”‚  â”‚     SELECT * FROM document_chunks                         â”‚    â”‚
â”‚  â”‚     WHERE document_type = 'tds'                           â”‚    â”‚
â”‚  â”‚     AND material_category = 'paint'                        â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  4. Tool Catalog:                                         â”‚    â”‚
â”‚  â”‚     SELECT * FROM professional_tools                      â”‚    â”‚
â”‚  â”‚     WHERE category = 'body work'                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  RESTORATION GUIDANCE LAYER                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Calculate Restoration Score (0-100)                      â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  â€¢ Paint condition: 0-25 points                           â”‚    â”‚
â”‚  â”‚  â€¢ Structural integrity: 0-25 points                      â”‚    â”‚
â”‚  â”‚  â€¢ Rust/corrosion: 0-25 points                            â”‚    â”‚
â”‚  â”‚  â€¢ Completeness: 0-25 points                              â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Total: 40/100                                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                            â”‚                                       â”‚
â”‚                            â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Generate Guidance Based on Score                          â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Score 99-100 â†’ "Wipe down with microfiber"                â”‚    â”‚
â”‚  â”‚  Score 80-99  â†’ "Clean, cut, and polish"                   â”‚    â”‚
â”‚  â”‚  Score 50-80  â†’ "Significant restoration needed"          â”‚    â”‚
â”‚  â”‚  Score 0-50   â†’ "Replacement recommended"                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                            â”‚                                       â”‚
â”‚                            â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Combine All Data                                         â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  â€¢ Recommended parts (from catalog)                      â”‚    â”‚
â”‚  â”‚  â€¢ Required materials (from TDS)                          â”‚    â”‚
â”‚  â”‚  â€¢ Needed tools (from tool catalog)                      â”‚    â”‚
â”‚  â”‚  â€¢ Step-by-step procedures (from service manual)         â”‚    â”‚
â”‚  â”‚  â€¢ Cost estimate (parts + materials + labor)             â”‚    â”‚
â”‚  â”‚  â€¢ Time estimate (from service manual procedures)        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UI DISPLAY                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Vehicle Image View                                        â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  [Image of rusty bumper]                                  â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Restoration Score: 40/100                                â”‚    â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Component: Front Bumper                                  â”‚    â”‚
â”‚  â”‚  Condition: Needs Replacement                             â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Recommended Parts:                                       â”‚    â”‚
â”‚  â”‚  â€¢ Bumper Assembly - $250 (LMC Truck)                     â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Required Materials:                                      â”‚    â”‚
â”‚  â”‚  â€¢ Primer - PPG Deltron (4:1:1 mix)                      â”‚    â”‚
â”‚  â”‚  â€¢ Basecoat - Color Code R123                             â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Needed Tools:                                            â”‚    â”‚
â”‚  â”‚  â€¢ Grinder (rust removal)                                â”‚    â”‚
â”‚  â”‚  â€¢ Spray gun (paint application)                          â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Procedure:                                               â”‚    â”‚
â”‚  â”‚  See Service Manual page 247                             â”‚    â”‚
â”‚  â”‚  "Bumper Removal and Installation"                        â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  Estimated Cost: $987.50                                  â”‚    â”‚
â”‚  â”‚  Estimated Time: 3.5 hours                                â”‚    â”‚
â”‚  â”‚                                                            â”‚    â”‚
â”‚  â”‚  [View Full Procedure] [Order Parts] [Get Quote]          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow by Catalog Type

### Parts Catalog Flow
```
PDF Catalog (LMC Truck)
    â†“
Gemini extracts part data
    â†“
catalog_parts table
    â”œâ”€ part_number: "38-9630"
    â”œâ”€ name: "Bumper Bolt Kit"
    â”œâ”€ price: $12.50
    â”œâ”€ application_data: {years: [1973, 1974]}
    â””â”€ embedding: [vector for semantic search]
```

### Service Manual Flow
```
PDF Service Manual
    â†“
AI extracts structure & chunks
    â†“
document_chunks table
    â”œâ”€ document_type: "service_manual"
    â”œâ”€ page_number: 247
    â”œâ”€ section_name: "Body Work"
    â”œâ”€ content: "To remove bumper..."
    â”œâ”€ key_topics: ["bumper", "removal", "installation"]
    â””â”€ embedding: [vector for semantic search]
```

### Material Catalog Flow
```
PDF TDS Sheet (PPG Deltron)
    â†“
AI extracts product data
    â†“
document_chunks table
    â”œâ”€ document_type: "tds"
    â”œâ”€ product_name: "Deltron Basecoat"
    â”œâ”€ product_code: "DBC-123"
    â”œâ”€ brand: "PPG"
    â”œâ”€ mixing_ratio: {"base": 4, "activator": 1, "reducer": 1}
    â”œâ”€ application_method: "Spray"
    â””â”€ content: "Full TDS content..."
```

### Tool Catalog Flow
```
Tool Database / Catalog
    â†“
Manual entry or scraping
    â†“
professional_tools table
    â”œâ”€ tool_name: "Angle Grinder"
    â”œâ”€ category: "Power Tools"
    â”œâ”€ application: "Rust removal, metal work"
    â””â”€ skill_level: "Professional"
```

---

## ğŸ¯ Query Examples

### Finding Parts
```sql
-- Semantic search for parts
SELECT * FROM catalog_parts
WHERE name_embedding <-> (
  SELECT embedding FROM catalog_parts 
  WHERE name = 'bumper'
) < 0.3
ORDER BY price_current ASC;
```

### Finding Procedures
```sql
-- Full-text search in service manuals
SELECT content, page_number, section_name
FROM document_chunks
WHERE document_type = 'service_manual'
  AND to_tsvector('english', content) @@ 
      plainto_tsquery('english', 'bumper removal installation')
ORDER BY page_number;
```

### Finding Materials
```sql
-- Search TDS sheets for paint products
SELECT product_name, brand, mixing_ratio, application_method
FROM document_chunks
WHERE document_type = 'tds'
  AND material_category = 'paint'
  AND (product_name ILIKE '%basecoat%' OR product_name ILIKE '%primer%');
```

### Finding Tools
```sql
-- Search tools by category
SELECT tool_name, category, application
FROM professional_tools
WHERE category IN ('body work', 'paint', 'rust removal')
ORDER BY tool_name;
```

---

## ğŸ”— Integration Points

### Image Analysis â†’ Catalog Lookup
```
analyze-image-tier1
    â†“ (identifies part)
searchCatalogParts()
    â†“ (finds replacement)
displayRecommendations()
```

### Service Manual â†’ Procedure Display
```
identifyPart()
    â†“ (needs procedure)
searchServiceManual()
    â†“ (finds procedure)
displayProcedure()
```

### Material Catalog â†’ Cost Estimation
```
calculateRestorationScore()
    â†“ (needs materials)
searchMaterialCatalog()
    â†“ (finds products)
calculateMaterialCost()
```

---

## ğŸ“ˆ Current Statistics

- **Parts Catalog:** 4,951 parts indexed
- **Service Manuals:** Variable (depends on uploaded manuals)
- **Material Catalogs:** Variable (depends on uploaded TDS sheets)
- **Tool Catalog:** Variable (depends on tool database)

---

**This visual guide shows how raw PDFs become queryable, intelligent data that powers restoration guidance.**

