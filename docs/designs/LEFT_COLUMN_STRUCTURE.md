# Left Column Structure - Mockup for Approval

## Current Left Column
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Basic Information      â”‚
â”‚ (collapsible)          â”‚
â”‚ - Year, Make, Model    â”‚
â”‚ - VIN, Color, etc.     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coverage Map           â”‚
â”‚ (collapsible)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Image Tagger           â”‚
â”‚ (if owner)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Work Memory            â”‚
â”‚ (if owner)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## PROPOSED Left Column
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Basic Information      â”‚ â† ALWAYS EXPANDED
â”‚ - Year, Make, Model    â”‚
â”‚ - VIN, Color, etc.     â”‚
â”‚ - Series, Trim, Body   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Description            â”‚ â† NEW
â”‚                        â”‚
â”‚ [Editable text area]   â”‚
â”‚ "Built 6.2L LS3..."    â”‚
â”‚                        â”‚
â”‚ Auto-generated from    â”‚
â”‚ uploaded images        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Comments (3)           â”‚ â† NEW
â”‚                        â”‚
â”‚ skylar williams        â”‚
â”‚ "Check the cage work"  â”‚
â”‚ 2h ago                 â”‚
â”‚                        â”‚
â”‚ + Add comment          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coverage Map           â”‚
â”‚ (collapsible)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Image Tagger           â”‚
â”‚ (if owner)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Work Memory            â”‚
â”‚ (if owner)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Specs

### 1. Basic Information (Always Expanded)
```tsx
<VehicleBasicInfo 
  vehicle={vehicle}
  defaultExpanded={true}  // NEW PROP
  showEditButton={canEdit}
/>
```

### 2. Description Card (NEW)
```tsx
<VehicleDescriptionCard
  vehicleId={vehicle.id}
  description={vehicle.description}
  isEditable={canEdit}
  autoGenerated={!vehicle.description}
  onUpdate={(newDesc) => updateVehicle({ description: newDesc })}
/>
```

**Features**:
- Auto-generated from AI image analysis if empty
- User can edit/override
- Shows "AI-generated" badge if not user-edited
- Character limit: 500

**UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Description                    Edit â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Built 6.2L LS3 swap, full cage,    â”‚
â”‚ custom suspension, 37" tires.       â”‚
â”‚ Originally maroon, repainted 2024.  â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ğŸ¤– Auto-generated from 617 images   â”‚
â”‚ Click Edit to customize             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Comments Section (NEW)
```tsx
<VehicleComments
  vehicleId={vehicle.id}
  commentCount={3}
  collapsed={true}
  maxVisible={2}
/>
```

**Features**:
- Shows last 2 comments when collapsed
- "Show all 3 comments" to expand
- Real-time updates via Supabase realtime
- @ mentions for contributors
- Threaded replies (optional)

**UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Comments (3)              Show all  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ skylar williams â€¢ 2h ago         â”‚
â”‚ "Check the cage work on driver side"â”‚
â”‚                                     â”‚
â”‚ ğŸ‘¤ john doe â€¢ 5h ago                â”‚
â”‚ "Torque specs look high, verify?"   â”‚
â”‚                                     â”‚
â”‚ + Add comment                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Database Requirements

### Description Field
Already exists: `vehicles.description TEXT`

Add tracking:
```sql
ALTER TABLE vehicles ADD COLUMN IF NOT EXISTS description_source TEXT;
  -- 'user_input' | 'ai_generated' | 'bat_import'
ALTER TABLE vehicles ADD COLUMN IF NOT EXISTS description_generated_at TIMESTAMP;
```

### Comments
Already exists: `vehicle_comments` table
```sql
-- Verify structure
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'vehicle_comments';
```

Expected columns:
- `id`, `vehicle_id`, `user_id`, `comment_text`
- `created_at`, `parent_comment_id` (for threading)

## Component Order (Top to Bottom)

1. **Basic Information** (always expanded, ~200px)
2. **Description** (new, ~150px when not editing)
3. **Comments** (new, collapsed by default, ~180px)
4. **Coverage Map** (collapsible, hidden by default)
5. **Image Tagger** (owner only)
6. **Work Memory** (owner only)

Total estimated height: ~530px (fits nicely in left column)

---

## Approval Questions

1. **Basic Info**: Keep always expanded? âœ“
2. **Description**: Auto-generate from AI if empty? âœ“
3. **Comments**: Add to left column or separate section? 
4. **Order**: Info â†’ Description â†’ Comments â†’ Tools?
5. **Emblems**: Source from public domain or generate SVGs?

---

**Implementation Effort**: 6-8 hours
- Description Card: 2 hours
- Comments Section: 3 hours  
- Validation Popup Redesign: 3 hours
- Emblem integration: 1 hour

Approve to proceed?

